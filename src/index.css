
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 270 100% 99%;
    --foreground: 270 8% 15%;

    --card: 0 0% 100%;
    --card-foreground: 270 8% 15%;

    --popover: 0 0% 100%;
    --popover-foreground: 270 8% 15%;

    --primary: 260 84% 75%;
    --primary-foreground: 0 0% 100%;

    --secondary: 172 72% 59%;
    --secondary-foreground: 0 0% 100%;

    --muted: 260 20% 96%;
    --muted-foreground: 260 8% 45%;

    --accent: 172 72% 95%;
    --accent-foreground: 172 80% 20%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 260 30% 93%;
    --input: 260 30% 93%;
    --ring: 260 84% 75%;

    --radius: 1rem;
  }

  .dark {
    --background: 270 30% 10%;
    --foreground: 270 8% 95%;

    --card: 270 30% 12%;
    --card-foreground: 270 8% 95%;

    --popover: 270 30% 12%;
    --popover-foreground: 270 8% 95%;

    --primary: 260 84% 75%;
    --primary-foreground: 0 0% 100%;

    --secondary: 172 72% 59%;
    --secondary-foreground: 0 0% 100%;

    --muted: 270 20% 20%;
    --muted-foreground: 270 8% 65%;

    --accent: 172 50% 30%;
    --accent-foreground: 172 80% 90%;

    --destructive: 0 62% 50%;
    --destructive-foreground: 0 0% 100%;

    --border: 270 30% 25%;
    --input: 270 30% 25%;
    --ring: 260 84% 75%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-wonder-background text-foreground antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Custom scrollbar styles */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-wonder-purple/30 rounded-full transition-colors;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-wonder-purple/60;
  }
}

@layer components {
  /* Chat bubble styles */
  .chat-bubble-user {
    @apply bg-gradient-wonder text-white rounded-2xl p-4 rounded-tr-none shadow-wonder;
  }

  .chat-bubble-ai {
    @apply bg-white text-foreground rounded-2xl p-4 rounded-tl-none shadow-wonder border border-muted/50;
  }

  /* Learning block styles */
  .learning-block {
    @apply relative overflow-hidden rounded-xl p-4 shadow-wonder transition-all duration-300 hover:shadow-wonder-lg;
  }

  .learning-block-did-you-know {
    @apply bg-gradient-purple text-white;
  }

  .learning-block-mind-blowing {
    @apply bg-gradient-teal text-white;
  }

  .learning-block-amazing-stories {
    @apply bg-gradient-coral text-white;
  }

  .learning-block-see-it {
    @apply bg-gradient-yellow text-foreground;
  }

  .learning-block-quiz {
    @apply bg-gradient-green text-white;
  }

  /* Glass morphism effect */
  .glass {
    @apply bg-white/40 backdrop-blur-xl border border-white/50 shadow-glass;
  }

  /* Custom animations */
  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  .animate-bounce-in {
    animation: bounce-in 0.5s ease-out;
  }

  /* Quiz answer styles */
  .quiz-answer {
    @apply relative overflow-hidden rounded-lg border-2 border-transparent p-3 transition-all duration-300;
  }

  .quiz-answer-selected {
    @apply border-wonder-purple bg-wonder-purple/10;
  }

  .quiz-answer-correct {
    @apply border-wonder-green bg-wonder-green/10;
  }

  .quiz-answer-incorrect {
    @apply border-destructive bg-destructive/10;
  }
  
  /* New button styles with pixel-perfect attention to detail */
  .btn-wonder {
    @apply relative overflow-hidden rounded-full bg-gradient-wonder px-6 py-3 font-medium text-white shadow-wonder transition-all duration-300;
  }
  
  .btn-wonder:hover {
    @apply shadow-wonder-lg -translate-y-0.5;
  }
  
  .btn-wonder:active {
    @apply translate-y-0 shadow-wonder;
  }
  
  .btn-wonder::after {
    @apply absolute inset-0 rounded-full opacity-0 transition-opacity duration-300 content-[''];
    background: linear-gradient(rgba(255,255,255,0.2), transparent);
  }
  
  .btn-wonder:hover::after {
    @apply opacity-100;
  }
  
  /* Feature card with magical hover state */
  .feature-card {
    @apply relative bg-white rounded-3xl p-8 shadow-wonder transition-all duration-500 overflow-hidden border border-transparent z-10;
  }
  
  .feature-card:hover {
    @apply shadow-wonder-lg -translate-y-1 border-wonder-purple/10;
  }
  
  .feature-card::before {
    @apply absolute inset-0 bg-gradient-wonder opacity-0 transition-opacity duration-500 content-[''] z-[-1];
    mask-image: radial-gradient(circle at bottom right, rgba(0,0,0,1) 0%, rgba(0,0,0,0) 70%);
  }
  
  .feature-card:hover::before {
    @apply opacity-5;
  }
  
  /* Magical orb - decorative element */
  .magical-orb {
    @apply absolute rounded-full bg-gradient-wonder opacity-20 blur-2xl pointer-events-none;
    animation: float 15s ease-in-out infinite;
  }
  
  /* Pixar-like illustration style */
  .illustration-container {
    @apply relative inline-block;
  }
  
  .illustration-shadow {
    @apply absolute bottom-0 left-1/2 w-4/5 h-4 bg-black/10 rounded-full blur-sm -translate-x-1/2;
  }
  
  /* Award badge style */
  .award-badge {
    @apply relative overflow-hidden rounded-full flex items-center justify-center;
    background: conic-gradient(from 0deg, #FBBF24, #F87171, #8B5CF6, #14B8A6, #FBBF24);
  }
  
  .award-badge::after {
    @apply absolute inset-1 rounded-full bg-white content-[''];
  }
  
  .award-badge-content {
    @apply absolute z-10 flex items-center justify-center text-xs font-bold;
  }
  
  /* Point Counter */
  .point-counter {
    @apply relative bg-gradient-wonder text-white rounded-full py-1 px-3 text-sm font-bold shadow-wonder;
  }
  
  .point-counter::before {
    @apply absolute inset-0 rounded-full opacity-0 content-[''];
    background: linear-gradient(rgba(255,255,255,0.3), transparent);
    animation: badge-pulse 2s infinite;
  }
  
  /* Trophy element */
  .trophy {
    @apply relative overflow-hidden bg-gradient-yellow rounded-full p-3 shadow-wonder;
  }
  
  .trophy::after {
    @apply absolute inset-0 opacity-50 content-[''];
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.8), transparent);
    background-size: 200% 100%;
    animation: trophy-shine 2s infinite;
  }
  
  /* Achievement unlock animation */
  .achievement-unlock {
    @apply relative overflow-hidden rounded-xl bg-gradient-to-r from-wonder-purple via-wonder-blue to-wonder-teal p-0.5;
    animation: gradient-shift 3s ease infinite;
  }
  
  .achievement-content {
    @apply bg-white rounded-[calc(0.75rem-1px)] p-4;
  }
  
  /* Progress bar */
  .progress-track {
    @apply relative h-2 w-full rounded-full bg-muted/50 overflow-hidden;
  }
  
  .progress-bar {
    @apply absolute top-0 left-0 h-full bg-gradient-wonder rounded-full transition-all duration-500;
  }
  
  /* Learning path node */
  .learning-path-node {
    @apply relative h-10 w-10 rounded-full border-4 border-white bg-gradient-wonder shadow-wonder z-10 flex items-center justify-center text-white font-bold;
  }
  
  .learning-path-connector {
    @apply absolute top-1/2 left-[calc(0%+20px)] h-1 bg-gradient-wonder rounded-full -z-10 -translate-y-1/2;
  }
  
  /* Certificate styles */
  .certificate {
    @apply relative bg-white overflow-hidden rounded-xl border-8 border-wonder-yellow p-8 shadow-wonder;
    background-image: url("data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%239C92AC' fill-opacity='0.1' fill-rule='evenodd'%3E%3Cpath d='M5 0h1L0 5v1H5V0zm1 5v1H5L0 1v1L4 6h1z'/%3E%3C/g%3E%3C/svg%3E");
  }
  
  .certificate::before,
  .certificate::after {
    @apply absolute content-[''] w-40 h-40 rounded-full opacity-10;
  }
  
  .certificate::before {
    @apply top-0 right-0 bg-wonder-yellow translate-x-1/2 -translate-y-1/2;
  }
  
  .certificate::after {
    @apply bottom-0 left-0 bg-wonder-purple -translate-x-1/2 translate-y-1/2;
  }
  
  /* Table of Contents style */
  .toc-item {
    @apply relative pl-8 py-2 border-l-2 border-muted transition-all;
  }
  
  .toc-item::before {
    @apply absolute left-0 top-1/2 w-4 h-4 rounded-full bg-muted -translate-x-1/2 -translate-y-1/2 transition-all content-[''];
  }
  
  .toc-item:hover {
    @apply border-wonder-purple;
  }
  
  .toc-item:hover::before {
    @apply bg-wonder-purple scale-110;
  }
  
  .toc-item-active {
    @apply border-wonder-purple font-medium;
  }
  
  .toc-item-active::before {
    @apply bg-wonder-purple scale-110;
  }
  
  /* Concept map connection */
  .concept-connection {
    @apply relative h-px bg-wonder-purple/30;
  }
  
  .concept-connection::after {
    @apply absolute top-0 left-0 h-full w-1/2 bg-wonder-purple content-[''];
    animation: slide-right 2s linear infinite;
  }
  
  /* Activity card */
  .activity-card {
    @apply relative rounded-xl overflow-hidden border-2 border-muted p-4 hover:border-wonder-purple/50 transition-all;
  }
  
  .activity-card-tag {
    @apply absolute top-0 right-0 bg-gradient-wonder text-white text-xs py-1 px-3 rounded-bl-lg font-medium;
  }
}

/* Story link with underline animation */
.story-link {
  @apply relative inline-block after:absolute after:bottom-0 after:left-0 after:h-0.5 after:w-full after:origin-bottom-right after:scale-x-0 after:bg-primary after:transition-transform after:duration-300 hover:after:origin-bottom-left hover:after:scale-x-100;
}

/* Hover scale animation */
.hover-scale {
  @apply transition-transform duration-200 hover:scale-105;
}

/* Button with bounce effect */
.btn-bounce {
  @apply active:scale-95 transition-transform;
}

/* New animations */
@keyframes slide-right {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

.animate-slide-right {
  animation: slide-right 3s linear infinite;
}

@keyframes gradient-shift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.animate-gradient {
  animation: gradient-shift 15s ease infinite;
  background-size: 400% 400%;
}

/* Enhanced existing animations */
@keyframes float {
  0%, 100% {
    transform: translateY(0) rotate(0deg);
  }
  25% {
    transform: translateY(-10px) rotate(2deg);
  }
  50% {
    transform: translateY(0) rotate(0deg);
  }
  75% {
    transform: translateY(10px) rotate(-2deg);
  }
}

@keyframes pulse-soft {
  0%, 100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.05);
    opacity: 0.8;
  }
}

/* Apple-like text gradients */
.text-gradient-wonder {
  @apply bg-gradient-wonder bg-clip-text text-transparent;
}

.text-gradient-purple {
  @apply bg-gradient-purple bg-clip-text text-transparent;
}

.text-gradient-teal {
  @apply bg-gradient-teal bg-clip-text text-transparent;
}

/* Message animation for the chat interface */
.message-appear {
  animation: message-appear 0.3s forwards;
}

@keyframes message-appear {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Levitating element animation */
@keyframes levitate {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-15px);
  }
}

.animate-levitate {
  animation: levitate 6s ease-in-out infinite;
}

/* Glow pulse animation */
@keyframes glow-pulse {
  0%, 100% {
    box-shadow: 0 0 5px rgba(139, 92, 246, 0.5),
                0 0 25px rgba(139, 92, 246, 0.3);
  }
  50% {
    box-shadow: 0 0 10px rgba(139, 92, 246, 0.8),
                0 0 40px rgba(139, 92, 246, 0.5);
  }
}

.animate-glow {
  animation: glow-pulse 3s infinite;
}

/* Sparkle animation */
@keyframes sparkle {
  0%, 100% {
    opacity: 0;
    transform: scale(0);
  }
  50% {
    opacity: 1;
    transform: scale(1);
  }
}

.sparkle {
  @apply absolute rounded-full bg-white pointer-events-none;
  animation: sparkle 2s infinite;
}
